{"componentChunkName":"component---src-templates-documentation-tsx","path":"/docs/handbook/regression-tests","result":{"data":{"markdownRemark":{"id":"96f63950-6ca6-530f-9c7a-ed0605046575","excerpt":"Regression Tests Lingua Franca comes with an extensive set of regression tests that are executed on various platforms automatically whenever an update is pushed…","html":"<h2 id=\"regression-tests\" style=\"position:relative;\"><a href=\"#regression-tests\" aria-label=\"regression tests permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Regression Tests</h2>\n<p>Lingua Franca comes with an extensive set of regression tests that are executed on various platforms automatically whenever an update is pushed to the LF repository. There are three categories of tests:</p>\n<ul>\n<li><strong>System tests</strong> are complete Lingua Franca programs that are compiled and executed automatically. A test passes if it successfully compiles and runs to completion with normal termination (return code 0). These tests are located in the <code>test</code> directory at the root of the LF repo, with one subdirectory per target language.</li>\n<li><strong>Unit tests</strong> are Java methods in the <a href=\"https://github.com/lf-lang/lingua-franca/tree/master/org.lflang.tests/src/org/lflang/tests/compiler\"><code>compiler</code> package</a> that are labeled with the <code>@test</code> directive in the comment just before the method. These tests check individual functions of the code generation infrastructure and/or IDE. The system tests are also executed through JUnit using methods with <code>@test</code> directives, but these tests are located in the <a href=\"https://github.com/lf-lang/lingua-franca/tree/master/org.lflang.tests/src/org/lflang/tests/runtime\"><code>runtime</code> package</a> (because their goal is not only to successfully generate code, but also to execute it and test for expected results).</li>\n<li><strong>Examples</strong> are complete Lingua Franca programs that are compiled but not executed automatically. These are not executed automatically because they are typically interactive and may not terminate.</li>\n</ul>\n<p>To learn about Lingua Franca, browsing the system tests and examples could be very useful.</p>\n<h3 id=\"browsing-and-editing-examples-in-the-lf-ide\" style=\"position:relative;\"><a href=\"#browsing-and-editing-examples-in-the-lf-ide\" aria-label=\"browsing and editing examples in the lf ide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Browsing and Editing Examples in the LF IDE</h3>\n<ul>\n<li>In the LF IDE Eclipse, select File->New->Project (a General Project is adequate) and click Next.</li>\n<li>Give the project a name, e.g. <code>CExamples</code>.</li>\n<li>Unselect “Use default location”.</li>\n<li>Navigate to the example directory and click Open. For the C target, the example directory is <code>$LF/example/C</code> where <code>$LF</code> is the root of your git clone of the lingua-franca repo.</li>\n<li>Click Finish.</li>\n<li>Open any one of the <code>.lf</code> files in any of the subdirectories.</li>\n<li><strong>IMPORTANT:</strong> A dialog appears: Do you want to convert ‘test’ to an Xtext Project? Say YES.</li>\n</ul>\n<p>This will create two directories called <code>src-gen</code> and <code>bin</code> in the <code>$LF/example/C</code> directory. Eclipse populates these directories with generated and compiled code. You can run the programs in the <code>bin</code> directory.</p>\n<h3 id=\"browsing-and-editing-system-tests-in-the-lf-ide\" style=\"position:relative;\"><a href=\"#browsing-and-editing-system-tests-in-the-lf-ide\" aria-label=\"browsing and editing system tests in the lf ide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Browsing and Editing System Tests in the LF IDE</h3>\n<p>The built-in regression tests provide many small, simple examples of LF programs. Browsing them can be useful to learn the capabilities, so we strongly recommend creating a project for this.</p>\n<ul>\n<li>In the LF IDE Eclipse, select File->New->Project (a General Project is adequate) and click Next.</li>\n<li>Give the project a name, e.g. <code>CTests</code>.</li>\n<li>Unselect “Use default location”.</li>\n<li>Navigate to the test directory and click Open. For the C target, the test directory is <code>$LF/test/C</code> where <code>$LF</code> is the root of your git clone of the lingua-franca repo.</li>\n<li>The <code>src</code> directory contains all the tests, some organized into topical subdirectories.</li>\n<li>Open any one of the <code>.lf</code> files.</li>\n<li><strong>IMPORTANT:</strong> A dialog appears: Do you want to convert ‘test’ to an Xtext Project? Say YES.</li>\n</ul>\n<p>This will create two directories called <code>src-gen</code> and <code>bin</code> in the <code>$LF/test/C</code> directory. Eclipse populates these directories with generated and compiled code. You can run the programs in the <code>bin</code> directory.</p>\n<h3 id=\"running-the-tests-from-the-command-line\" style=\"position:relative;\"><a href=\"#running-the-tests-from-the-command-line\" aria-label=\"running the tests from the command line permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running the Tests From the Command Line</h3>\n<p>The simplest way to run the regression tests is to use a Bash script called <code>run-lf-tests</code> in <code>$LF/bin</code>, which takes the target language as a parameter:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">run-lf-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">C</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">run-lf-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">Cpp</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">run-lf-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">Python</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">run-lf-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">TS</span>\n</pre>\n<p>This will run the system tests only. To run all the tests, use the <code>gradle</code> build system in the <code>$LF/xtext</code> directory:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">cd</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell punctuation-definition-variable-shell variable-other-normal-shell\">$</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell variable-other-normal-shell\">LF</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">/xtext</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span>\n</pre>\n<p>You can also selectively run just some of the tests. For example, to run the system tests for an individual target language, do this:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">cd</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell punctuation-definition-variable-shell variable-other-normal-shell\">$</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell variable-other-normal-shell\">LF</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.lflang.tests.runtime.CTest.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.lflang.tests.runtime.CppTest.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.lflang.tests.runtime.PythonTest.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.lflang.tests.runtime.TypeScriptTest.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n</pre>\n<p>To run a single test case, use the <code>runSingleTest</code> Gradle task along with the path to the test source file:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">runSingleTest</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-args</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test/C/src/Minimal.lf</span>\n</pre>\n<p>It is also possible to run a subset of the tests. For example, the C tests are organized into the following categories:</p>\n<ul>\n<li><strong>generic</strong> tests are <code>.lf</code> files located in <code>$LF/test/C/src</code>.</li>\n<li><strong>concurrent</strong> tests are <code>.lf</code> files located in <code>$LF/test/C/src/concurrent</code>.</li>\n<li><strong>federated</strong> tests are <code>.lf</code> files located in <code>$LF/test/C/src/federated</code>.</li>\n<li><strong>multiport</strong> tests are <code>.lf</code> files located in <code>$LF/test/C/src/multiport</code>.</li>\n</ul>\n<p>To invoke only the tests in the <code>concurrent</code> category, for example, do this:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">cd</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell punctuation-definition-variable-shell variable-other-normal-shell\">$</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell variable-other-normal-shell\">LF</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">/xtext</span>\n<span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.icyphy.tests.runtime.CTest.runConcurrentTests</span>\n</pre>\n<h3 id=\"reporting-bugs\" style=\"position:relative;\"><a href=\"#reporting-bugs\" aria-label=\"reporting bugs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reporting Bugs</h3>\n<p>If you encounter a bug or add some enhancement to Lingua Franca, then you should create a regression test either as a system test or a unit test and issue a pull request. System tests are particularly easy to create since they are simply Lingua Franca programs that either compile and execute successfully (the test passes) or fail either to compile or execute.</p>\n<h2 id=\"testing-architecture\" style=\"position:relative;\"><a href=\"#testing-architecture\" aria-label=\"testing architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Testing Architecture</h2>\n<p>System tests can be put in any subdirectory of <code>$LF/test</code> or <code>$LF/example</code>.\nAny <code>.lf</code> file within these directories will be treated as a system test unless they are within a directory named <code>failing</code>, in which case they will be ignored.\nThe tests are automatically indexed by our JUnit-based test infrastructure, which is located in the package <code>xtext/org.icyphy.linguafranca.tests</code>. Each target has its own class in the <code>runtime</code> package, with a number of test methods that correspond to particular test categories, such as <code>generic</code>, <code>concurrent</code>, <code>federated</code>, etc. A test can be associated with a particular category by placing it in a directory that matches its name. For instance, we can create a test (e.g., <code>Foo.lf</code>) in <code>test/C/src/concurrent</code>, which will then get indexed under the target <code>C</code> in the category <code>concurrent</code>. Files placed directly in <code>test/C/src</code> will be considered <code>generic</code> <code>C</code> tests, and a file in a directory <code>concurrent/federated</code> will be indexed as <code>federated</code> (corresponding to the nearest containing directory).</p>\n<p><strong>Caution</strong>: adding a <em>new</em> category requires updating an enum in <code>TestRegistry.java</code> and adding a <code>@test</code>-labeled method to <code>TestBase</code>.</p>\n<h3 id=\"known-failures\" style=\"position:relative;\"><a href=\"#known-failures\" aria-label=\"known failures permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Known Failures</h3>\n<p>Sometimes it is useful to retain tests that have a known failure that should be addressed at a later point. Such tests can simply be put in a directory called <code>failing</code>, which will tell our test indexing code to exclude it.</p>\n<h3 id=\"examples\" style=\"position:relative;\"><a href=\"#examples\" aria-label=\"examples permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Examples</h3>\n<p>All files in our <code>example</code> directory are also indexed automatically. This is to assure they will continue to function correctly as our compiler evolves. All files in the <code>example</code> category will be parsed and code generated, but only files in a <code>test</code> directory will be executed, meaning they must also execute successfully in order not to be reported as a failure.</p>\n<h3 id=\"test-output\" style=\"position:relative;\"><a href=\"#test-output\" aria-label=\"test output permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test Output</h3>\n<p>Tests are grouped by target and category. It is also reported when, for a given category, there are other targets that feature tests that are missing for the target under test. Tests that either do not have a main reactor or are marked as known failures are reported as “ignored.” For all the tests that were successfully indexed, it is reported how many passed. For each failing test, diagnostics are reported that should help explain the failure. Here is some sample output for <code>Ctest.runConcurrentTests</code>, which runs tests categorized as <code>concurrent</code> for the <code>C</code> target:</p>\n<pre class=\"source-lf language-text\">CTest &gt; runConcurrentTests() STANDARD_OUT\n    ==============================================================================\n    Target: C\n    Description: Run concurrent tests.\n    ==============================================================================\n\n    ==============================================================================\n    Category: CONCURRENT\n    ==============================================================================\n    ------------------------------------------------------------------------------\n    Ignored: 0\n    ------------------------------------------------------------------------------\n\n    ------------------------------------------------------------------------------\n    Covered: 29/33\n    ------------------------------------------------------------------------------\n    Missing: src/concurrent/BankToBank.lf\n    Missing: src/concurrent/BankToBankMultiport.lf\n    Missing: src/concurrent/BankToBankMultiportAfter.lf\n    Missing: src/concurrent/BankToMultiport.lf\n\n    ------------------------------------------------------------------------------\n    Passing: 29/29\n    ------------------------------------------------------------------------------\n</pre>\n<h3 id=\"running-junit-tests-from-eclipse\" style=\"position:relative;\"><a href=\"#running-junit-tests-from-eclipse\" aria-label=\"running junit tests from eclipse permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running JUnit Tests from Eclipse</h3>\n<p>It is also possible to invoke tests in Eclipse. Simply navigate to the source file in the package explorer, right click on it and select <code>Run As JUnit Test</code>. To invoke particular tests, open the file, right click on a method labeled as <code>@test</code> and again run it as a JUnit test.</p>\n<h2 id=\"unit-tests\" style=\"position:relative;\"><a href=\"#unit-tests\" aria-label=\"unit tests permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unit Tests</h2>\n<p>We also maintain a set of unit tests that focus on various aspects of the LF compiler. They are located in the <code>compiler</code> package in <code>xtext/org.icyphy.linguafranca.tests</code>. These tests can also be invoked from Eclipse as describe above, or from the command line as follows:</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.icyphy.tests.compiler.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n</pre>\n<h2 id=\"code-coverage\" style=\"position:relative;\"><a href=\"#code-coverage\" aria-label=\"code coverage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Code Coverage</h2>\n<p>Code coverage is automatically recorded when running tests. After completing a test run, a full report can be found in <code>$LF/xtext/org.icyphy.linguafranca.tests/build/reports/html/jacoco/index.html</code>. Note that this report will only reflect the coverage of the test that have actually executed. It is possible to obtain the full report without waiting for all the tests to complete by running the following command which only parses and generates code for system tests (instead of building and executing them, too):</p>\n<pre class=\"source-lf language-sh\"><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell support-function-builtin-shell\">.</span><span class=\"source-shell meta-statement-shell meta-command-shell entity-name-command-shell\">/gradlew</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">test</span><span class=\"source-shell meta-statement-shell meta-command-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument-shell constant-other-option-dash-shell\">-</span><span class=\"source-shell meta-statement-shell meta-command-shell string-unquoted-argument constant-other-option\">-tests</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell\"> </span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell\">org.icyphy.tests.runtime.compiler.CodeGenCoverage.</span><span class=\"source-shell meta-statement-shell meta-command-shell meta-argument-shell string-unquoted-argument-shell variable-language-special-wildcard-shell\">*</span>\n</pre>\n<h2 id=\"continuous-integration\" style=\"position:relative;\"><a href=\"#continuous-integration\" aria-label=\"continuous integration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Continuous Integration</h2>\n<p>Each push or pull request will trigger all tests to be run on GitHub Actions. It’s configuration can be found <a href=\"https://github.com/lf-lang/lingua-franca/blob/master/.github/workflows/build.yml\">here</a>.</p>","headings":[{"value":"Regression Tests","depth":2},{"value":"Browsing and Editing Examples in the LF IDE","depth":3},{"value":"Browsing and Editing System Tests in the LF IDE","depth":3},{"value":"Running the Tests From the Command Line","depth":3},{"value":"Reporting Bugs","depth":3},{"value":"Testing Architecture","depth":2},{"value":"Known Failures","depth":3},{"value":"Examples","depth":3},{"value":"Test Output","depth":3},{"value":"Running JUnit Tests from Eclipse","depth":3},{"value":"Unit Tests","depth":2},{"value":"Code Coverage","depth":2},{"value":"Continuous Integration","depth":2}],"frontmatter":{"permalink":"/docs/handbook/regression-tests","title":"Regression Tests","oneline":"Regression Tests for Lingua Franca.","preamble":""}},"prev":{"childMarkdownRemark":{"frontmatter":{"title":"Developer IntelliJ Setup","oneline":"Developer IntelliJ Setup.","permalink":"/docs/handbook/intellij"}}},"next":{"childMarkdownRemark":{"frontmatter":{"title":"Running Benchmarks","oneline":"Running Benchmarks.","permalink":"/docs/handbook/running-benchmarks"}}}},"pageContext":{"id":"4-regression-tests","slug":"/docs/handbook/regression-tests","repoPath":"/packages/documentation/copy/en/developer/Regression Tests.md","previousID":"1d9f0442-2300-5615-9c04-6ee5f2c33793","nextID":"8d78ab4e-cebd-5116-bbe9-871de58f9aeb","lang":"en","modifiedTime":"2023-01-22T11:11:43.071Z"}},"staticQueryHashes":[]}